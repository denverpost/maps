<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <title>Tornadoes in Colorado, 1950-2015</title>
    <link rel="canonical" href="http://extras.denverpost.com/charts/sports/rockies/historical-record/index.html" />
    <link rel="shortcut icon" href="http://extras.mnginteractive.com/live/media/favIcon/dpo/favicon.ico" type="image/x-icon" />
    <meta name="distribution" content="global" />
    <meta name="robots" content="index, nofollow" />
    <meta name="title" content="Since 1993, Rockies have worst record against National League West rivals" />
    <meta name="language" content="en, sv" />
    <meta name="Copyright" content="Copyright &copy; The Denver Post." />
    <link rel="author" href="humans.txt" />
    <meta name="description" content="The Rockies have a .454 winning percentage against their division rivals since 1993.">
    <meta name="news_keywords" content="Colorado Rockies, baseball, Major League Baseball, National League West, Los Angeles Dodgers, San Francisco Giants, Arizona Diamondbacks, San Diego Padres">
    <meta name="twitter:card" value="summary" />
    <meta name="twitter:url" value="http://extras.denverpost.com/charts/sports/rockies/historical-record/index.html" />
    <meta name="twitter:title" value="Since 1993, Rockies have worst record against National League West rivals" />
    <meta name="twitter:description" value="The Rockies have a .454 winning percentage against their division rivals since 1993." />
    <meta name="twitter:image" value="http://extras.denverpost.com/charts/sports/rockies/historical-record/rockies_record.jpg" />
    <meta name="twitter:site" value="@denverpost" />
    <meta name="twitter:domain" value="denverpost.com" />
    <meta name="twitter:creator" content="@denverpost">
    <meta name="twitter:app:name:iphone" value="Denver Post">
    <meta name="twitter:app:name:ipad" value="Denver Post">
    <meta name="twitter:app:name:googleplay" value="The Denver Post">
    <meta name="twitter:app:id:iphone" value="id375264133">
    <meta name="twitter:app:id:ipad" value="id409389010">
    <meta name="twitter:app:id:googleplay" value="com.ap.denverpost" />
    <meta property="fb:app_id" content="105517551922" />
    <meta property="og:title" content="Since 1993, Rockies have worst record against National League West rivals" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://extras.denverpost.com/charts/sports/rockies/historical-record/index.html" />
    <meta property="og:image" content="http://extras.denverpost.com/charts/sports/rockies/historical-record/rockies_record.jpg" />
    <meta property="og:site_name" content="The Denver Post" />
    <meta property="og:description" content="The Rockies have a .454 winning percentage against their division rivals since 1993." />
    <meta property="article:publisher" content="https://www.facebook.com/denverpost" />
    <meta name="google-site-verification" content="2bKNvyyGh6DUlOvH1PYsmKN4KRlb-0ZI7TvFtuKLeAc" />
    <!-- STYLE SHEETS -->
    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
    <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css' rel='stylesheet' />
    <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-minimap/v1.0.0/Control.MiniMap.css' rel='stylesheet' />
    <link rel="stylesheet" href="http://extras.denverpost.com/foundation/css/foundation.css" />
    <link rel="stylesheet" href="http://extras.denverpost.com/foundation/css/normalize.css" />
    <link rel="stylesheet" href="styles.css" type="text/css">
    <link rel="shortcut icon" href="http://extras.mnginteractive.com/live/media/favIcon/dpo/favicon.ico" type="image/x-icon" />
    <!-- SCRIPTS -->
    <script src="http://extras.denverpost.com/foundation/js/vendor/jquery.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-minimap/v1.0.0/Control.MiniMap.js'></script>
    <script src="http://extras.denverpost.com/foundation/js/vendor/modernizr.js"></script>
    <script type="text/javascript" src="http://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
    var iframe = '';
    if (document.location.hash === '#iframe') iframe = 1;
    if (window.top !== window.self) {
        iframe = 1;
    }
    if (iframe === '') {
        //Chartbeat startup
        var _sf_startpt = (new Date()).getTime();
        var _sf_async_config = {};
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function() {
            var useSSL = "https:" == document.location.protocol;
            var src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
            document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
        })();
    }
    </script>
</head>

<body>
    <!-- GOOGLE TAG MANAGER DATA LAYER -->
    <script>
    var is_mobile = function() {
        var check = false;
        (function(a) {
            if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true
        })(navigator.userAgent || navigator.vendor || window.opera);
        if (check == true) return 'YES';
        return 'NO';
    };
    analyticsEvent = function() {};
    analyticsSocial = function() {};
    analyticsVPV = function() {};
    analyticsClearVPV = function() {};
    analyticsForm = function() {};
    window.dataLayer = window.dataLayer || [];
    dataLayer.push({
        'ga_ua': 'UA-61435456-7',
        'quantcast': 'p-4ctCQwtnNBNs2',
        'quantcast label': 'Denver',
        'comscore': '6035443',
        'errorType': '',
        'Publisher Domain': 'denverpost.com',
        'Publisher Product': 'denverpost.com',
        'Dateline': '',
        'Publish Hour of Day': '',
        'Create Hour of Day': '',
        'Update Hour of Day': '',
        'Behind Paywall': 'NO',
        'Mobile Presentation': is_mobile(),
        'kv': 'lifestyle',
        'Release Version': '',
        'Digital Publisher': 'denverpost.com',
        'Platform': 'custom',
        'Section': 'Sports',
        'Taxonomy1': 'Rockies',
        'Taxonomy2': 'Rockies vs NL West graphic',
        'Taxonomy3': '',
        'Taxonomy4': '',
        'Taxonomy5': '',
        'Content Source': 'extras.denverpost.com',
        'Canonical URL': 'http://extras.denverpost.com' + document.location.pathname,
        'Slug': document.location.pathname,
        'Content ID': '',
        'Page Type': 'directory',
        'Publisher State': 'CO',
        'Byline': '',
        'Content Title': document.title,
        'URL': document.location.href,
        'Page Title': document.title,
        'User ID': ''
    });
    </script>
    <!-- End Google Tag Manager Data Layer -->
    <!-- Google Tag Manager -->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-TLFP4R" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
    (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })
    (window, document, 'script', 'dataLayer', 'GTM-TLFP4R');
    </script>
    <!-- End Google Tag Manager -->
    <!-- NAVIGATION BAR -->
    <div id="hide-iframe">
        <div id="top-bar-margin">
            <nav class="top-bar" data-topbar role="navigation">
                <ul class="title-area">
                    <li class="name">
                        <a href="http://denverpost.com"><img src="http://extras.denverpost.com/candidate-qa/denver-2015/images/dp-logo-white.png" alt="The Denver Post logo" class="nav-logo"></a>
                    </li>
                </ul>
            </nav>
        </div>
        <!-- SOCIAL MEDIA BUTTONS -->
        <div class="row">
            <div class="large-12 medium-12 columns">
                <ul class="post-meta-social-links text-center no-bullet" id="sticky-inner">
                    <li class="post-meta-social ho-list">
                        <a href="mailto:?subject=Colorado%20Rockies%20vs%20NL%20West%20Rivals&body=A%20look%20at%20National%20League%20West%20teams%27%20records%20against%20each%20other%20since%201993%2C%20from%20The%20Denver%20Post%3A%20http%3A%2F%2Fdpo.st%2F1U6GJKG"><img class="social-icons" src="//extras.denverpost.com/maps/news/marijuana/licensed-facilities/images/email-icon.png" alt="Email this to a friend"></a>
                    </li>
                    <li class="post-meta-social pm-twitter ho-list">
                        <a href="javascript:void(0)" onclick="javascript:window.open('http://twitter.com/share?text=Since%201993%2C%20the%20Colorado%20Rockies%20have%20the%20worst%20record%20against%20NL%20West%20rivals&amp;url=http%3A%2F%2Fdpo.st%2F1U6GJKG&amp;via=denverpost', 'twitwin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=1');"><img class="social-icons" src="http://extras.denverpost.com/projects/2014/latino-project/images/social-twitter.png" alt="Tweet this story"></a>
                    </li>
                    <li class="post-meta-social pm-facebook text-center ho-list">
                        <a href="javascript:void(0)" onclick="javascript:window.open('http://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=http%3A%2F%2Fdpo.st%2F1U6GJKG&amp;p[images][1]=&amp;p[title]=Since%201993%2C%20Rockies%20have%20worst%20record%20against%20National%20League%20West%20rivals\&amp;%20As&amp;p[summary]=The+Rockies+have+a+.454+winning+percentage+against+their+division+rivals+since+1993', 'fbwin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=1');"><img class="social-icons" src="http://extras.denverpost.com/projects/2014/latino-project/images/social-facebook.png" alt="Facebook"></a>
                    </li>
                    <div class="clear"></div>
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="large-10 large-centered columns">
            <h1>Colorado Tornadoes: By the Numbers</h1>
            <h3>A breakdown of storms from 1950-2015</h3>
        </div>
    </div>
    <div class="row">
        <div class="large-12 columns">
            <div class="large-5 medium-5 small-12 columns panel right">
                <h4 style="font-weight: bold; text-align: center;">Fujita Tornado Damage Scale</h4>
                <p class="f-scale-underline"><strong>F0</strong> &bull; <em>wind speed < 73 mph</em></p>
                <p>Light damage. Some damage to chimneys; branches broken off trees; shallow-rooted trees pushed over; sign boards damaged.</p>
                <p class="f-scale-underline"><strong>F1</strong> &bull; <em> wind speed 73-112 mph</em></p>
                <p>Moderate damage. Peels surface off roofs; mobile homes pushed off foundations or overturned; moving autos blown off roads.</p>
                <p class="f-scale-underline"><strong>F2</strong> &bull; <em>wind speed 113-157 mph</em></p>
                <p>Considerable damage. Roofs torn off frame houses; mobile homes demolished; boxcars overturned; large trees snapped or uprooted; light-object missiles generated; cars lifted off ground.</p>
                <p class="f-scale-underline"><strong>F3</strong> &bull; <em>wind speed 158-206 mph</em></p>
                <p>Severe damage. Roofs and some walls torn off well-constructed houses; trains overturned; most trees in forest uprooted; heavy cars lifted off the ground and thrown.</p>
                <p class="f-scale-underline"><strong>F4</strong> &bull; <em>wind speed 207-260 mph</em></p>
                <p>Devastating damage. Well-constructed houses leveled; structures with weak foundations blown away some distance; cars thrown and large missiles generated.</p>
                <p class="f-scale-underline"><strong>F5</strong> &bull; <em>wind speed 261-318 mph</em></p>
                <p>Incredible damage. Strong frame houses leveled off foundations and swept away; automobile-sized missiles fly through the air in excess of 100 meters (109 yds); trees debarked; incredible phenomena will occur.</p>
            </div>
            <div class="large-7 medium-7 small-12 columns">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eget dui ipsum. Suspendisse maximus lorem leo, hendrerit feugiat tellus sollicitudin a. Vestibulum dapibus mauris consequat ultrices venenatis. In hac habitasse platea dictumst. Curabitur non tincidunt elit. Donec non fringilla justo. Quisque tincidunt ligula a vulputate hendrerit. Nulla at quam consequat, aliquet elit vitae, pellentesque est. Suspendisse rhoncus felis in sodales porta. Vestibulum posuere luctus pretium. Curabitur fermentum arcu et ipsum ornare vehicula. Sed venenatis orci eget erat blandit, efficitur pharetra elit congue.</p>
                <p>Donec lectus mauris, posuere non tristique ac, tincidunt ut eros. Cras eu blandit metus, sed consectetur metus. Cras scelerisque tellus non est maximus cursus. Duis et ex nisl. Nam viverra fringilla erat, eget interdum mi tristique eget. Praesent interdum turpis libero, rhoncus gravida lorem aliquam ut. Donec accumsan enim nibh, lobortis porttitor magna dictum sit amet. Donec tincidunt rhoncus nisl ultrices rutrum. Maecenas condimentum ex at nunc viverra, ultrices rutrum nibh tincidunt. Aenean eu arcu lorem. Fusce dictum odio vel tellus posuere, quis venenatis nunc posuere.</p>
                <a href="tornadoes_scale.png"><img src="tornadoes_scale.png" style="border: 1px solid rgba(0,0,0,.2);"></a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="large-12 medium-11 medium-centered small-11 small-centered columns">
            <hr>
            <form id='fScaleFilter'>
                <div id="legend-container">
                    <p class="legend"><strong>Show only certain categories of storms:</strong>
                        <br><em>&#9733; indicates injuries/fatalities</em></p>
                    <div class="legend" id="f-1">
                        <label>
                            <input type='checkbox' name='filters' onclick='showTornadoes();' value="1" checked>F-1
                        </label>
                    </div>
                    <div class="legend" id="f-2">
                        <label>
                            <input type='checkbox' name='filters' onclick='showTornadoes();' value="2" checked> F-2
                        </label>
                    </div>
                    <div class="legend" id="f-3">
                        <label>
                            <input type='checkbox' name='filters' onclick='showTornadoes();' value="3" checked> F-3
                        </label>
                    </div>
                    <div class="legend" id="f-4">
                        <label>
                            <input type='checkbox' name='filters' onclick='showTornadoes();' value="4" checked> F-4
                        </label>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- MAP -->
    <div class="row">
        <div class="large-12 medium-11 medium-centered small-11 small-centered columns">
            <div id='map'></div>
        </div>
    </div>
    <div class="row">
        <div class="large-5 columns">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eget dui ipsum. Suspendisse maximus lorem leo, hendrerit feugiat tellus sollicitudin a. Vestibulum dapibus mauris consequat ultrices venenatis. In hac habitasse platea dictumst. Curabitur non tincidunt elit. Donec non fringilla justo. Quisque tincidunt ligula a vulputate hendrerit. Nulla at quam consequat, aliquet elit vitae, pellentesque est. Suspendisse rhoncus felis in sodales porta. Vestibulum posuere luctus pretium. Curabitur fermentum arcu et ipsum ornare vehicula. Sed venenatis orci eget erat blandit, efficitur pharetra elit congue.</p>
            <p>Donec lectus mauris, posuere non tristique ac, tincidunt ut eros. Cras eu blandit metus, sed consectetur metus. Cras scelerisque tellus non est maximus cursus. Duis et ex nisl. Nam viverra fringilla erat, eget interdum mi tristique eget. Praesent interdum turpis libero, rhoncus gravida lorem aliquam ut. Donec accumsan enim nibh, lobortis porttitor magna dictum sit amet. Donec tincidunt rhoncus nisl ultrices rutrum. Maecenas condimentum ex at nunc viverra, ultrices rutrum nibh tincidunt. Aenean eu arcu lorem. Fusce dictum odio vel tellus posuere, quis venenatis nunc posuere.</p>
        </div>
        <div class="large-7 columns">
            <a href="tornadoes_time.png"><img src="tornadoes_time.png"></a>
        </div>
    </div>
    <div class="row">
        <div class="large-6 columns">
            <!-- <div class="atlas-chart" data-id="HyzP8Qbf" data-width="640" data-height="449"><img src="https://www.theatlas.com/i/atlas_HyzP8Qbf.png" style="max-width: 100%;"></div>
                <script src="https://www.theatlas.com/javascripts/atlas.js"></script> -->
            <a href="tornadoes_month.png"><img src="tornadoes_month.png"></a>
        </div>
        <div class="large-6 columns">
            <a href="tornadoes_year.png"><img src="tornadoes_year.png"></a>
        </div>
    </div>
    <div id="hide-iframe">
        <!-- ADS -->
        <div class="row">
            <div class="large-10 large-centered medium-12 medium-centered small-12 columns">
                <div class="row adcubes">
                    <div class="large-6 medium-6 small-12 columns">
                        <div id="div_Cube5" class="adcube-wrap">
                            <script type='text/javascript'>
                            googletag.defineSlot('/8013/denverpost.com/Sports', [300, 250], 'div_Cube5').addService(googletag.pubads());
                            googletag.pubads().enableSyncRendering();
                            googletag.enableServices();
                            googletag.display('div_Cube5');
                            </script>
                        </div>
                    </div>
                    <div class="large-6 medium-6 hide-for-small columns">
                        <div id="div_Cube6" class="adcube-wrap">
                            <script type='text/javascript'>
                            if (window.innerWidth >= 660) {
                                googletag.defineSlot('/8013/denverpost.com/Sports', [300, 250], 'div_Cube6').addService(googletag.pubads());
                                googletag.pubads().enableSyncRendering();
                                googletag.enableServices();
                                googletag.display('div_Cube6');
                            }
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="adwrapper">
            <a class="boxclose" href="javascript:void(0)" onclick="hideAdManual();"></a>
            <center>
                <div id="adframewrapper"></div>
            </center>
        </div>
        <div class="row">
            <div class="large-10 large-centered columns">
                <hr>
                <footer>
                    <p>By <a href="https://twitter.com/kevinmhamm">Kevin Hamm</a>, The Denver Post &copy; 2016 &bull; Source: <a href="http://www.spc.noaa.gov/wcm/#data">National Weather Service</a></p>
                </footer>
            </div>
        </div>
    </div>
    <!-- LEAFLET SCRIPT -->
    <script>
    L.mapbox.accessToken = 'pk.eyJ1Ijoia2hhbW0tZGVudmVycG9zdCIsImEiOiJjaWZoMThvYWxhcHZtc3htN25sZWhnNGkzIn0.xPsTe8f7I19lj2xCFQ1Ciw';
    // Here we don't use the second argument to map, since that would automatically
    // load in non-clustered markers from the layer. Instead we add just the
    // backing tileLayer, and then use the featureLayer only for its data.
    var map = L.mapbox.map('map', 'mapbox.streets')
        .setView([39.707083, -104.65684], 9)
        //.addLayer(L.mapbox.tileLayer('mapbox.streets'))
        .on('ready', function() {
            new L.Control.MiniMap(L.mapbox.tileLayer('mapbox.streets'))
                .addTo(map);
        });

    // Disable drag and zoom handlers
    //map.dragging.disable();
    //map.touchZoom.disable();
    //map.doubleClickZoom.disable();
    //map.scrollWheelZoom.disable();

    var overlays = L.layerGroup().addTo(map);

    // we create the 'layers' variable outside of the on('ready' callback
    // so that it can be accessible in the showStations function. Otherwise,
    // JavaScript scope would prevent you from accessing it.
    var layers;

    // Since featureLayer is an asynchronous method, we use the `.on('ready'`
    // call to only use its marker data once we know it is actually loaded.
    L.mapbox.featureLayer()
        //.loadURL('json_test.js')
        .loadURL('colorado_tornadoes_final_geojson.js')
        .on('ready', function(e) {
            layers = e.target;
            //console.log(e);
            showTornadoes();
            this.eachLayer(function(marker) {
                if (marker.toGeoJSON().properties.fScale == 1 && marker.toGeoJSON().properties.injuries == 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#4863a1',
                        'marker-size': 'medium'
                    }))
                } else if (marker.toGeoJSON().properties.fScale == 1 && marker.toGeoJSON().properties.injuries != 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#4863a1',
                        'marker-symbol': 'star',
                        'marker-size': 'medium'
                    }))
                } else if (marker.toGeoJSON().properties.fScale == 2 && marker.toGeoJSON().properties.injuries == 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#8648a1',
                        'marker-size': 'medium'
                    }))
                } else if (marker.toGeoJSON().properties.fScale == 2 && marker.toGeoJSON().properties.injuries != 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#8648a1',
                        'marker-symbol': 'star',
                        'marker-size': 'medium'
                    }))
                } else if (marker.toGeoJSON().properties.fScale == 3 && marker.toGeoJSON().properties.injuries == 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#a14863',
                        'marker-size': 'medium'
                    }))
                } else if (marker.toGeoJSON().properties.fScale == 3 && marker.toGeoJSON().properties.injuries != 0) {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#a14863',
                        'marker-symbol': 'star',
                        'marker-size': 'medium'
                    }))
                } else {
                    marker.setIcon(L.mapbox.marker.icon({
                        'marker-color': '#000000',
                        'marker-size': 'medium'
                    }));
                };
            });
        });
    var filters = document.getElementById('fScaleFilter').filters;

    // There are many ways to filter data. Mapbox.js has the .setFilter method,
    // but it only applies to L.mapbox.featureLayer layers, and that isn't what
    // we're creating - we're making marker groups in a MarkerClusterGroup layer.
    // Thus we distill filtering down to its essential part: an 'if' statement
    // in a loop.
    function showTornadoes() {
        // first collect all of the checked boxes and create an array of strings
        // like ['green', 'blue']
        var list = [];
        for (var i = 0; i < filters.length; i++) {
            if (filters[i].checked) list.push(+filters[i].value);
            //console.log(i);
        }
        //console.log(list);
        // then remove any previously-displayed marker groups
        overlays.clearLayers();
        // create a new marker group
        var clusterGroup = new L.MarkerClusterGroup().addTo(overlays);
        // and add any markers that fit the filtered criteria to that group.
        layers.eachLayer(function(layer) {
            if (list.indexOf(+layer.feature.properties.fScale) !== -1) {
                layer.bindPopup('<strong>' + layer.feature.properties.fullDate + ' &bull; ' + 'F-' + layer.feature.properties.fScale + '<br>' + layer.feature.properties.countyName + ' County<br>' + '</strong><hr class="popup">' + '<br>Injuries: ' + layer.feature.properties.injuries + '<br>Fatalities: ' + layer.feature.properties.fatalities + '<br>Length: ' + layer.feature.properties.lengthMiles + ' miles' + '<br>Width: ' + layer.feature.properties.widthYards + ' yards' + '<br>Time: ' + layer.feature.properties.fullTime);
                clusterGroup.addLayer(layer);
            }
            //console.log(layer);
            //console.log(layer.feature.properties.fScale);
        });
    };
    </script>
    <script>
    //Chartbeat stuff
    _sf_async_config.uid = 2671;
    _sf_async_config.domain = 'denverpost.com';
    _sf_async_config.sections = 'sports,rockies';
    _sf_async_config.useCanonical = true;
    (function() {
        function loadChartbeat() {
            window._sf_endpt = (new Date()).getTime();
            var e = document.createElement('script');
            e.setAttribute('language', 'javascript');
            e.setAttribute('type', 'text/javascript');
            e.setAttribute('src', '//static.chartbeat.com/js/chartbeat.js');
            document.body.appendChild(e);
        }
        var oldonload = window.onload;
        window.onload = (typeof window.onload != 'function') ? loadChartbeat : function() {
            oldonload();
            loadChartbeat();
        };
    })();
    </script>
    <script>
    // Hide Google analytics if #iframe in url
    if (iframe === 1) {
        $('#google-analytics').remove()
    }

    // If #iframe in url, hide header section and footer
    if (iframe === 1) {
        $('#hide-iframe, footer').addClass('hide');
    }
    </script>
</body>

</html>
